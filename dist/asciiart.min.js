"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.imageToString=void 0;var GRAY_RANGE=256,DEFAULT_CHARACTERS=["@","M","#","A","3","?","*","-"," "];function imageToString(a,e,t,r){void 0===r&&(r=DEFAULT_CHARACTERS);var n=createCanvas(e,t);loadImageOnCanvas(n,a);var o=canvasToString(n,r);return n.remove(),o}function createCanvas(a,e){var t=document.createElement("canvas");return t.width=a,t.height=e,t}function loadImageOnCanvas(a,e){a.getContext("2d").drawImage(e,0,0,a.width,a.height)}function canvasToString(a,e){for(var t=a.getContext("2d"),r=a.width,n=a.height,o=GRAY_RANGE/e.length,i="",g=0;g<n;++g){for(var v=0;v<r;++v){var u=pixelToGrayValue(t,v,g);i+=e[Math.floor(u/o)]}i+="\n"}return i}function pixelToGrayValue(a,e,t){var r=a.getImageData(e,t,1,1).data;return rgbToGray(r[0],r[1],r[2])}function rgbToGray(a,e,t){return.299*a+.587*e+.114*t}exports.imageToString=imageToString;
